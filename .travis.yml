language: java
install: true
branches:
  only:
  - initial-work
#  - master
#  - /^\d+\.\d+$/
jobs:
  include:
  - stage: test
    name: "Unit tests - OracleJDK 8"
    script: mvn -B verify
    jdk: oraclejdk8
  - stage: deploy
    name: "Deploy to Sonatype's snapshots repository"
    if: type != pull_request
    script: bash .travis.deploy.artifacts.sh
notifications:
  email:
    recipients:
    - vertx3-ci@googlegroups.com
    on_success: always
    on_failure: always
